# В этой части представлены задания и решения по следующим темам SQL запросов:

**- выборка всех данных из таблицы;**

**- выборка данных из отдельных столбцов;**

**- присвоение новых имен столбцам при формировании выборки;**

**- создание вычисляемых столбцов;** 

**- вычисляемые столбцы, математические функции;**

**- вычисляемые столбцы, логические функции;**

**- выборка данных по простому условию;** 

**- выборка данных с использованием логических выражений и операций;**

**- выборка данных, операторы BETWEEN, IN;**

**- выборка текстовых данных по шаблону, оператор LIKE;**

**- выборка данных с сортировкой**

## Задание №1
Вывести информацию о всех книгах, хранящихся на складе.

Для этого: 

- Напишите SQL запрос в окне кода; 
- Отправьте на проверку (кнопка  Отправить); 
- Если запрос работает неверно, исправьте его и снова отправьте на проверку.
  
**Важно!** В окне кода можно использовать комментарии для сохранения разных вариантов запросов или пояснений. Комментарии заключаются в /* и */

### Решение для задания №1

`SELECT * FROM book;`

![image](https://github.com/00Julie00/SQL/assets/115406267/b95caabd-3b9a-4748-8813-31dea6e8515e)

## Задание №2
Выбрать авторов, название книг и их цену из таблицы `book`.

### Решение для задания №2
```
SELECT 
  author, 
  title, 
  price 
FROM 
  book;
```
![image](https://github.com/00Julie00/SQL/assets/115406267/010fe978-189d-4ccd-9d70-3a3fb44581a0)

## Задание №3
Выбрать названия книг и авторов из таблицы `book`, для поля `title` задать имя(псевдоним) **Название**, для поля `author` –  **Автор**. 

### Решение для задания №3
```
SELECT 
  title AS Название, 
  author AS Автор 
FROM 
  book;
```
![image](https://github.com/00Julie00/SQL/assets/115406267/b0c33791-9bd2-411b-9703-9e58959bfa4f)

## Задание №4
Для упаковки каждой книги требуется один лист бумаги, цена которого 1 рубль 65 копеек. Посчитать стоимость упаковки для каждой книги (сколько денег потребуется, чтобы упаковать все экземпляры книги). 
В запросе вывести название книги, ее количество и стоимость упаковки, последний столбец назвать `pack`. 

### Решение для задания №4
```
SELECT 
  title, 
  amount, 
  amount * 1.65 AS pack 
FROM 
  book;
```
![image](https://github.com/00Julie00/SQL/assets/115406267/b756f377-5410-41cc-9c09-fde3b276fdd2)

## Задание №5
В конце года цену всех книг на складе пересчитывают – снижают ее на 30%. 
Написать SQL запрос, который из таблицы book выбирает названия, авторов, количества и вычисляет новые цены книг. 
Столбец с новой ценой назвать new_price, цену округлить до 2-х знаков после запятой.

### Решение для задания №5
```
SELECT 
  title, 
  author, 
  amount, 
  ROUND(
    price - (
      (price / 100)* 30
    ), 
    2
  ) AS new_price 
FROM 
  book;
```
![image](https://github.com/00Julie00/SQL/assets/115406267/450a52c8-0c41-4f60-b077-97e4dc6dc899)

## Задание №6
При анализе продаж книг выяснилось, что наибольшей популярностью пользуются книги Михаила Булгакова, на втором месте книги Сергея Есенина. 
Исходя из этого решили поднять цену книг Булгакова на 10%, а цену книг Есенина - на 5%. Написать запрос, куда включить автора, название книги и новую цену, последний столбец назвать new_price. 
Значение округлить до двух знаков после запятой.

**Пояснение:**
- фамилию автора задавать с инициалами (как занесено в таблице), заключая в одинарные или двойные кавычки;
- для сравнения на равенство использовать знак =, например author = "Булгаков М.А.".

### Решение для задания №6
```
SELECT 
  author, 
  title, 
  ROUND(
    IF(
      author = 'Булгаков М.А.', 
      price * 1.1, 
      IF(
        author = 'Есенин С.А.', price * 1.05, 
        price + 0
      )
    ), 
    2
  ) AS new_price 
FROM 
  book;
```
![image](https://github.com/00Julie00/SQL/assets/115406267/e79a6a62-fc7a-444f-b63d-05502c96f9af)

## Задание №7
Вывести автора, название  и цены тех книг, количество которых меньше 10.

### Решение для задания №7
```
SELECT 
  author, 
  title, 
  price 
FROM 
  book 
WHERE 
  amount < 10;
```
![image](https://github.com/00Julie00/SQL/assets/115406267/0e84a78c-1e2e-412d-bffa-1996f71dc291)

## Задание №8
Вывести название, автора,  цену  и количество всех книг, цена которых меньше 500 или больше 600, а стоимость всех экземпляров этих книг больше или равна 5000.

### Решение для задания №8
```
SELECT 
  title, 
  author, 
  price, 
  amount 
FROM 
  book 
WHERE 
  (
    (
      price < 500 
      OR price > 600
    ) 
    AND (price * amount) >= 5000
  );
```
![image](https://github.com/00Julie00/SQL/assets/115406267/543a7f00-07f1-4443-88d1-dd4e0be80ec2)

## Задание №9
Вывести название и авторов тех книг, цены которых принадлежат интервалу от 540.50 до 800 (включая границы),  а количество или 2, или 3, или 5, или 7 .

### Решение для задания №9
```
SELECT 
  title, 
  author 
FROM 
  book 
WHERE 
  (
    price BETWEEN 540.50 
    AND 800
  ) 
  AND (
    amount IN (2, 3, 5, 7)
  );
```
![image](https://github.com/00Julie00/SQL/assets/115406267/94460acf-255f-446c-9fa2-eb3627b9c1f2)

## Задание №10
Вывести  автора и название  книг, количество которых принадлежит интервалу от 2 до 14 (включая границы). 
Информацию  отсортировать сначала по авторам (в обратном алфавитном порядке), а затем по названиям книг (по алфавиту).

### Решение для задания №10
```
SELECT 
  author, 
  title 
FROM 
  book 
WHERE 
  (
    amount BETWEEN 2 
    AND 14
  ) 
ORDER BY 
  author DESC, 
  title ASC;
```
![image](https://github.com/00Julie00/SQL/assets/115406267/f476453f-2f94-4b9f-94ea-99305deb9682)

## Задание №11
Вывести название и автора тех книг, название которых состоит из двух и более слов, а инициалы автора содержат букву «С». 
Считать, что в названии слова отделяются друг от друга пробелами и не содержат знаков препинания, между фамилией автора и инициалами обязателен пробел, инициалы записываются без пробела в формате: буква, точка, буква, точка. 
Информацию отсортировать по названию книги в алфавитном порядке.

**Пояснение:**
- При записи условия, необходимо учесть, что слово в названии обязательно должно содержать  хотя бы один символ.
- Инициалы в этом задании - это первая буква имени или отчества, после которой стоит точка.
- Буква **C** должна быть написана в РУССКОЙ раскладке. Если не проходит решение - проверьте это.
  
### Решение для задания №11
```
SELECT 
  title, 
  author 
FROM 
  book 
WHERE 
  title LIKE "_% _%" 
  AND title NOT LIKE " " 
  AND author LIKE "%С.%" 
ORDER BY 
  title ASC;
```
![image](https://github.com/00Julie00/SQL/assets/115406267/17b72e96-ca7f-4361-abcd-a2069226341c)

## Задание №12
Придумайте один или несколько запросов к нашей таблице book. Проверьте, правильно ли они работают.

![image](https://github.com/00Julie00/SQL/assets/115406267/22676887-55d8-4eac-96b6-241dd94a8fc9)

### Решение для задания №12
- Вывести всю таблицу в следующем порядке цена, автор, название. Отсортировать результаты по автору в порядке возарстания.
  
```
SELECT
  price,
  author, 
  title 
FROM 
  book 
ORDER BY 
  author ASC; 
```

![image](https://github.com/00Julie00/SQL/assets/115406267/00827a71-868e-4e3b-931e-5add2ac667fa)


- Увеличить стоимость "Мастера и Маргариты" как Хит продаж на 30%, а "Братья Карамазовы" уменишить на 15%.
Округить стоимость до целого числа. Вывести название и новую стоимость.


```
SELECT 
  title, 
  ROUND(
    IF(
      title = 'Мастер и Маргарита', 
      price * 1.3, 
      IF(
        title = 'Братья Карамазовы', 
        price * 0.85, price + 0
      )
    ), 
    0
  ) AS new_price 
FROM 
  book;
```

![image](https://github.com/00Julie00/SQL/assets/115406267/ecb0659c-97ba-4fa1-9b21-2ac3a19f982e)

- Магазин решил организовать доставку книг в зависимости от цены. Нужно посчитать стоимость доставки.
Если цена < 600 руб. - стоимость доставки 300 руб., если цена > 600 руб. и < 700 руб. - стоимость доставки 200 руб., если цена > 700 руб. - стоимость доставки 100 руб.
Вывести авторов, название, стоимость книг и цену для доставки каждой.


```
SELECT 
  author, 
  title, 
  price, 
  IF(
    price > 700, 
    '100 руб', 
    IF(
      price < 600, '300 руб', '200 руб'
    )
  ) AS delivery_price 
FROM 
  book;
  ```


![image](https://github.com/00Julie00/SQL/assets/115406267/7062f018-a5a9-46d7-a37e-b3c5711cbd9a)










































































































































